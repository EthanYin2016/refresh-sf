!function(a,b){function c(b){var c=a.URL||a.webkitURL,d=a.Blob,e=a.Worker;if(!(c&&d&&e&&b))return null;var f=new d([b]),g=new e(c.createObjectURL(f));return g}function d(a,b){function c(a){for(var b=[],c=a.clipboardData||{},e=c.items||[],f=0;f<e.length;f++){var g=e[f].getAsFile();if(g){var h=new RegExp("/(.*)").exec(g.type);if(!g.name&&h){var j=h[1];g.name="clipboard"+f+"."+j}b.push(g)}}b.length&&(i(a,b,d),a.preventDefault(),a.stopPropagation())}if(w.enabled){var d=l(l({},w.opts),b);a.addEventListener("paste",c,!1)}}function e(a,b){function c(b){i(b,a.files,e)}function d(a){a.stopPropagation(),a.preventDefault(),i(a,a.dataTransfer.files,e)}if(w.enabled){var e=l(l({},w.opts),b);a.addEventListener("change",c,!1),a.addEventListener("drop",d,!1)}}function f(a,c){function d(){r=!1}function e(){r=!0}function f(a){a.dataTransfer.files&&a.dataTransfer.files.length&&(a.stopPropagation(),a.preventDefault())}function g(a){return function(){r||a.apply(this,arguments)}}function h(b){b.stopPropagation(),b.preventDefault(),q&&o(a,q),i(b,b.dataTransfer.files,p)}function j(b){b.stopPropagation(),b.preventDefault(),q&&n(a,q)}function k(){q&&o(a,q)}function m(b){b.stopPropagation(),b.preventDefault(),q&&n(a,q)}if(w.enabled){var p=l(l({},w.opts),c),q=p.dragClass,r=!1;a.addEventListener("dragenter",g(j),!1),a.addEventListener("dragleave",g(k),!1),a.addEventListener("dragover",g(m),!1),a.addEventListener("drop",g(h),!1),b.body.addEventListener("dragstart",e,!0),b.body.addEventListener("dragend",d,!0),b.body.addEventListener("drop",f,!1)}}function g(a,b){for(var c=0;c<a.length;c++){var d=a[c];d.extra={nameNoExtension:d.name.substring(0,d.name.lastIndexOf(".")),extension:d.name.substring(d.name.lastIndexOf(".")+1),fileID:c,uniqueID:y(),groupID:b,prettySize:p(d.size)}}}function h(a,b,c){for(var d in b)if(a.match(new RegExp(d)))return"readAs"+b[d];return"readAs"+c}function i(a,b,d){function e(){j.ended=new Date,d.on.groupend(j)}function f(){0===--i&&e()}var i=b.length,j={groupID:x(),files:b,started:new Date};if(w.output.push(j),g(b,j.groupID),d.on.groupstart(j),!b.length)return void e();var k,l=v&&r;l&&(k=c(s),k.onmessage=function(a){var b=a.data.file,c=a.data.result;b.extra||(b.extra=a.data.extra),b.extra.ended=new Date,d.on["error"===c?"error":"load"]({target:{result:c}},b),f()}),Array.prototype.forEach.call(b,function(b){if(b.extra.started=new Date,d.accept&&!b.type.match(new RegExp(d.accept)))return d.on.skip(b),void f();if(d.on.beforestart(b)===!1)return d.on.skip(b),void f();var c=h(b.type,d.readAsMap,d.readAsDefault);if(k)k.postMessage({file:b,extra:b.extra,readAs:c});else{var e=new q;e.originalEvent=a,u.forEach(function(a){e["on"+a]=function(c){("load"==a||"error"==a)&&(b.extra.ended=new Date),d.on[a](c,b),"loadend"==a&&f()}}),e[c](b)}})}function j(){var a=c(t);a&&(a.onmessage=function(a){r=a.data},a.postMessage({}))}function k(){}function l(a,b){for(var c in b)b[c]&&b[c].constructor&&b[c].constructor===Object?(a[c]=a[c]||{},arguments.callee(a[c],b[c])):a[c]=b[c];return a}function m(a,b){return new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)").test(a.className)}function n(a,b){m(a,b)||(a.className=a.className?[a.className,b].join(" "):b)}function o(a,b){if(m(a,b)){var c=a.className;a.className=c.replace(new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)","g")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}function p(a){var b=["bytes","kb","MB","GB","TB","PB"],c=Math.floor(Math.log(a)/Math.log(1024));return(a/Math.pow(1024,Math.floor(c))).toFixed(2)+" "+b[c]}var q=a.FileReader,r=!1,s="self.addEventListener('message', function(e) { var data=e.data; try { var reader = new FileReaderSync; postMessage({ result: reader[data.readAs](data.file), extra: data.extra, file: data.file})} catch(e){ postMessage({ result:'error', extra:data.extra, file:data.file}); } }, false);",t="onmessage = function(e) { postMessage(!!FileReaderSync); };",u=["loadstart","progress","load","abort","error","loadend"],v=!1,w=a.FileReaderJS={enabled:!1,setupInput:e,setupDrop:f,setupClipboard:d,setSync:function(a){v=a,v&&!r&&j()},getSync:function(){return v&&r},output:[],opts:{dragClass:"drag",accept:!1,readAsDefault:"DataURL",readAsMap:{},on:{loadstart:k,progress:k,load:k,abort:k,error:k,loadend:k,skip:k,groupstart:k,groupend:k,beforestart:k}}};if("undefined"!=typeof jQuery&&(jQuery.fn.fileReaderJS=function(a){return this.each(function(){jQuery(this).is("input")?e(this,a):f(this,a)})},jQuery.fn.fileClipboard=function(a){return this.each(function(){d(this,a)})}),q){var x=function(a){return function(){return a++}}(0),y=function(a){return function(){return a++}}(0);w.enabled=!0}}(this,document);var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e=!a.externalHost&&"download"in d,f=function(c){var d=b.createEvent("MouseEvents");d.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(d)},g=a.webkitRequestFileSystem,h=a.requestFileSystem||g||a.mozRequestFileSystem,i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j="application/octet-stream",k=0,l=10,m=function(b){var d=function(){"string"==typeof b?c().revokeObjectURL(b):b.remove()};a.chrome?d():setTimeout(d,l)},n=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){i(f)}}},o=function(b,i){var l,o,p,q=this,r=b.type,s=!1,t=function(){n(q,"writestart progress write writeend".split(" "))},u=function(){if((s||!l)&&(l=c().createObjectURL(b)),o)o.location.href=l;else{var d=a.open(l,"_blank");void 0==d&&"undefined"!=typeof safari&&(a.location.href=l)}q.readyState=q.DONE,t(),m(l)},v=function(a){return function(){return q.readyState!==q.DONE?a.apply(this,arguments):void 0}},w={create:!0,exclusive:!1};return q.readyState=q.INIT,i||(i="download"),e?(l=c().createObjectURL(b),d.href=l,d.download=i,f(d),q.readyState=q.DONE,t(),void m(l)):(a.chrome&&r&&r!==j&&(p=b.slice||b.webkitSlice,b=p.call(b,0,b.size,j),s=!0),g&&"download"!==i&&(i+=".download"),(r===j||g)&&(o=a),h?(k+=b.size,void h(a.TEMPORARY,k,v(function(a){a.root.getDirectory("saved",w,v(function(a){var c=function(){a.getFile(i,w,v(function(a){a.createWriter(v(function(c){c.onwriteend=function(b){o.location.href=a.toURL(),q.readyState=q.DONE,n(q,"writeend",b),m(a)},c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&u()},"writestart progress write abort".split(" ").forEach(function(a){c["on"+a]=q["on"+a]}),c.write(b),q.abort=function(){c.abort(),q.readyState=q.DONE},q.readyState=q.WRITING}),u)}),u)};a.getFile(i,{create:!1},v(function(a){a.remove(),c()}),v(function(a){a.code===a.NOT_FOUND_ERR?c():u()}))}),u)}),u)):void u())},p=o.prototype,q=function(a,b){return new o(a,b)};return p.abort=function(){var a=this;a.readyState=a.DONE,n(a,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,q}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&null!==module?module.exports=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});