{{#unless output}}

  <div class="row">
    <div class="col-lg-6"><h2>Input</h2></div>
    <div class="col-lg-6 text-right compressed-actions">
      <div class="btn-group">
        <button type="button" {{ bind-attr disabled=isCompressing class=":btn guessJavascript:btn-primary" }} {{ action "compress" "javascript" }}><span class="glyphicon glyphicon-resize-small"></span> Javascript</button>
        <button type="button" {{ bind-attr disabled=isCompressing class=":btn guessCss:btn-primary" }} {{ action "compress" "css" }}><span class="glyphicon glyphicon-resize-small"></span> CSS</button>
        <button type="button" {{ bind-attr disabled=htmlDisabled class=":btn guessHtml:btn-primary" }} {{ action "compress" "html" }}><span class="glyphicon glyphicon-resize-small"></span> HTML</button>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <div class="form-group">
        {{view "drag-and-drop"
          value=input
          class="form-control input"
          rows="10"
          placeholder="Paste your JavaScript or CSS code here, or drag in files from your desktop."
          disabled=isCompressing}}
      </div>
      <div {{bind-attr class=":form-group isHtml::checkbox"}}>
        {{#if isHtml}}
          <span class="text-warning">YUI Compressor does not support HTML compression.</span>
            {{else}}
          <label>
            {{input type="checkbox" checked=useYui}}
            Use YUI Compressor instead of UglifyJS/Clean-CSS.
          </label>
        {{/if}}
      </div>
    </div>
  </div>

{{else}}

  <div class="row">
    <div class="col-lg-6">
      <h2>Compressed {{displayLanguage}}</h2>
    </div>
    <div class="col-lg-6 text-right compressed-actions">
      {{#if error}}
        <button type="button" class="btn btn-default" {{action "resetCompressor"}}><span class="glyphicon glyphicon-refresh"></span> Reset</button>
      {{else}}
        <div class="input-group">
          {{input class="form-control" value=filename}}
          <span class="input-group-btn">
            <button type="button" class="btn btn-primary" {{action "save"}} {{bind-attr disabled=saveDisabled}}><span class="glyphicon glyphicon-save"></span> Save</button>
            <button type="button" class="btn btn-primary" {{action "saveGzip"}}><span class="glyphicon glyphicon-resize-small"></span> gzip</button>
            <button type="button" class="btn btn-default" {{action "resetCompressor"}}><span class="glyphicon glyphicon-refresh"></span> Reset</button>
          </span>
        </div>
      {{/if}}
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      {{view "output-text-area" classBinding=":form-control :alert error:alert-danger:alert-success" rows="10" value=output}}
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <button type="button" class="btn btn-primary" {{action "createGist"}}>Create Anonymous Gist</button>
      {{#if gistUrl}}<a {{bind-attr href=gistUrl}}>{{gistUrl}}</a>{{/if}}
    </div>
  </div>

{{/unless}}

{{!-- Hidden form used to POST to gzip url for download --}}
<form {{bind-attr action=gzipUrl}} method="post">
  {{input name="code" value=output type="hidden"}}
</form>
