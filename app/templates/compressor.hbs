{{#unless output}}

  <div class="row">
    <div class="col-lg-12">
      <h2>
        {{#unless compressDisabled}}
          <button type="button" class="btn btn-primary pull-right" {{ action "compress" }} {{ bind-attr disabled=compressDisabled }}><span class="glyphicon glyphicon-resize-small"></span> Compress {{displayLanguage}}</button>
        {{/unless}}
        Input Code
      </h2>
      <div class="form-group">
        {{view App.DragAndDrop value=input class="form-control input" rows="10" placeholder=placeholder disabled=isCompressing}}
      </div>
    </div>
  </div>

{{else}}

  <div class="row">
    <div class="col-lg-6">
      <h2>Compressed {{displayLanguage}}</h2>
    </div>
    <div class="col-lg-6 text-right compressed-actions">
      {{#if error}}
        <button type="button" class="btn btn-default" {{action "clearOutput"}}><span class="glyphicon glyphicon-refresh"></span> Reset</button>
      {{else}}
        <div class="input-group">
          {{input class="form-control" value=filename}}
          <span class="input-group-btn">
            <button type="button" class="btn btn-primary" {{action "save"}} {{bind-attr disabled=saveDisabled}}><span class="glyphicon glyphicon-save"></span> Save</button>
            <button type="button" class="btn btn-primary" {{action "saveGzip"}}><span class="glyphicon glyphicon-resize-small"></span> gzip</button>
            <button type="button" class="btn btn-default" {{action "clearOutput"}}><span class="glyphicon glyphicon-refresh"></span> Reset</button>
          </span>
        </div>
      {{/if}}
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      {{view App.OutputTextArea classBinding=":form-control :alert error:alert-danger:alert-success" rows="10" value=output}}
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <button type="button" class="btn btn-primary" {{action "createGist"}}>Create Anonymous Gist</button>
      {{#if gistUrl}}<a {{bind-attr href=gistUrl}}>{{gistUrl}}</a>{{/if}}
    </div>
  </div>

{{/unless}}

{{!-- Hidden form used to POST to gzip url for download --}}
<form {{bind-attr action=gzipUrl}} method="post">
  {{input name="code" value=output type="hidden"}}
</form>
